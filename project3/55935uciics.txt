
stringcontainer 
id
stringcontainer
5788
2010
10
22
10
09
57z
abehm
copyright
2010
regents
university
california
redistribution
file
permitted
terms
bsd
license
date
04
04
2008
author
alexander
behm
ifndef
stringcontainer
define
stringcontainer
include
stringrm
include
util
src
misc
include
util
src
debug
include
common
src
filtertypes
include
include
include
include
include
include
enum
physord
pho
none
pho
auto
pho
length
pho
charsum
pho
length
charsum
pho
charsum
length
typedef
struct
unsigned
stringid
unsigned
charsum
unsigned
length
stringattribs
class
filterstats
public
unsigned
minkey
unsigned
maxkey
float
wtedavgvalcount
unordered
map
countmap
abstractfilter
filter
gramgen
gramgen
filterstats
abstractfilter
filter
void
begin
void
next
const
string
void
end
float
ed
unsigned
strcount
void
setgramgen
gramgen
gramgen
gramgen
gramgen
unsigned
getminkey
return
minkey
unsigned
getmaxkey
return
maxkey
float
getwtedavgvalcount
return
wtedavgvalcount
filtertype
getfiltertype
return
filter
gettype
filterstats
filter
delete
filter
class
statscollector
public
vector
filterstats
float
avgstrlen
unsigned
strcount
unsigned
minstrlen
unsigned
maxstrlen
unsigned
charfreqs
256
gramgen
gramgen
statscollector
avgstrlen
0
0f
strcount
0
minstrlen
0
maxstrlen
0
gramgen
null
memset
charfreqs
0
sizeof
unsigned
256
void
begin
void
next
const
string
void
end
float
getavgstrlen
return
avgstrlen
unsigned
getmaxstrlen
return
maxstrlen
unsigned
getcharfreqs
return
charfreqs
filterstats
getbestpartfilter
void
clearfilterstats
void
setgramgen
gramgen
gramgen
gramgen
gramgen
unsigned
0
filterstats
size
filterstats
setgramgen
gramgen
statscollector
function
template
creating
stringcontainer
default
initialization
template
createdefaultstringcontainer
unsigned
blocksize
unsigned
avgstrlen
template
class
stringcontainerabs
protected
collect
statistical
info
string
collection
auto
tuning
bool
gatherstats
physord
pho
physical
ordering
records
statscollector
statscollector
comparison
function
used
qsort
ordering
pho
length
int
static
cmpstringattribslen
const
void
const
void
const
stringattribs
static
cast
const
stringattribs
static
cast
length
length
return
1
length
length
return
1
return
0
comparison
function
used
qsort
ordering
pho
charsum
int
static
cmpstringattribscharsum
const
void
const
void
const
stringattribs
static
cast
const
stringattribs
static
cast
charsum
charsum
return
1
charsum
charsum
return
1
return
0
comparison
function
used
qsort
ordering
pho
length
charsum
int
static
cmpstringattribslencharsum
const
void
const
void
const
stringattribs
static
cast
const
stringattribs
static
cast
length
length
return
1
length
length
return
1
charsum
charsum
return
1
charsum
charsum
return
1
return
0
comparison
function
used
qsort
ordering
pho
charsum
length
int
static
cmpstringattribscharsumlen
const
void
const
void
const
stringattribs
static
cast
const
stringattribs
static
cast
charsum
charsum
return
1
charsum
charsum
return
1
length
length
return
1
length
length
return
1
return
0
void
copyreorg
concretestringcontainer
tempcontainer
public
stringcontainerabs
bool
gatherstats
false
gatherstats
gatherstats
pho
pho
none
stringcontainerabs
physord
pho
bool
gatherstats
gatherstats
gatherstats
pho
pho
interface
filling
string
containers
void
fillcontainer
const
char
filename
const
unsigned
count
const
unsigned
maxlinelen
300
static
cast
fillcontainer
impl
filename
count
maxlinelen
commonly
used
fill
functions
void
fillcontainer
concretestringcontainer
target
const
char
filename
const
unsigned
count
const
unsigned
maxlinelen
300
template
void
fillcontainer
inputiterator
first
inputiterator
last
static
cast
fillcontainer
impl
first
last
interfaces
concrete
string
containers
void
retrievestring
string
target
const
unsigned
static
cast
retrievestring
impl
target
unsigned
insertstring
const
string
return
static
cast
insertstring
impl
unsigned
size
return
static
cast
size
impl
void
integrateupdates
const
unordered
set
deletedstringids
unsigned
stringidmapping
static
cast
integrateupdates
impl
deletedstringids
stringidmapping
void
flushcache
return
static
cast
flushcache
impl
recordid
getrecordid
unsigned
return
static
cast
getrecordid
impl
statscollector
getstatscollector
gatherstats
return
statscollector
else
return
null
void
initstatscollector
gramgen
gramgen
statscollector
setgramgen
gramgen
physord
getphysord
return
static
cast
getphysord
impl
template
void
stringcontainerabs
copyreorg
concretestringcontainer
tempcontainer
charsumfilter
csfilter
unsigned
0
lengthfilter
lenfilter
unsigned
0
fill
array
string
attribs
sorting
stringattribs
strattribs
new
stringattribs
tempcontainer
size
unsigned
0
tempcontainer
size
string
currentstring
tempcontainer
retrievestring
currentstring
strattribs
charsum
csfilter
getcharsum
currentstring
strattribs
stringid
statscollector
gramgen
null
strattribs
length
lenfilter
getkey
currentstring
statscollector
gramgen
else
cout
warning
gramgen
set
statscollector
using
stringlength
filtering
attribute
endl
strattribs
length
currentstring
size
sort
collection
switch
pho
case
pho
none
break
case
pho
auto
gatherstats
filterstats
bestfilterstats
statscollector
getbestpartfilter
switch
bestfilterstats
getfiltertype
case
ft
length
qsort
strattribs
tempcontainer
size
sizeof
stringattribs
cmpstringattribslencharsum
break
case
ft
charsum
qsort
strattribs
tempcontainer
size
sizeof
stringattribs
cmpstringattribscharsumlen
break
case
ft
none
break
else
cout
warning
physical
ordering
set
container
stats
endl
break
case
pho
length
qsort
strattribs
tempcontainer
size
sizeof
stringattribs
cmpstringattribslen
break
case
pho
charsum
qsort
strattribs
tempcontainer
size
sizeof
stringattribs
cmpstringattribscharsum
break
case
pho
length
charsum
qsort
strattribs
tempcontainer
size
sizeof
stringattribs
cmpstringattribslencharsum
break
case
pho
charsum
length
qsort
strattribs
tempcontainer
size
sizeof
stringattribs
cmpstringattribscharsumlen
break
default
cout
warning
invalid
physord
specified
endl
break
gatherstats
statscollector
begin
copy
strings
new
collection
timer
start
sorting
container
tempcontainer
size
unsigned
0
tempcontainer
size
string
currentstring
tempcontainer
retrievestring
currentstring
strattribs
stringid
gatherstats
statscollector
next
currentstring
insertstring
currentstring
timer
step
timer
stop
gatherstats
statscollector
end
delete
strattribs
template
void
stringcontainerabs
fillcontainer
concretestringcontainer
target
const
char
filename
const
unsigned
count
const
unsigned
maxlinelen
ifstream
filedata
filename
filedata
cout
open
input
file
filename
endl
return
cout
inputfile
filename
endl
char
line
maxlinelen
1
bool
isignore
false
gatherstats
statscollector
begin
timer
start
filling
container
count
true
filedata
getline
line
maxlinelen
1
filedata
eof
break
filedata
rdstate
ios
failbit
isignore
true
filedata
rdstate
ios
failbit
filedata
clear
filedata
rdstate
ios
failbit
filedata
getline
line
maxlinelen
cout
open
reading
input
file
filename
endl
line
length
might
exceed
maxlinelen
characters
endl
return
else
const
string
string
line
target
insertstring
gatherstats
statscollector
next
count
0
target
size
count
break
timer
step
timer
stop
gatherstats
statscollector
end
filedata
close
isignore
cout
warning
endl
lines
file
exceeded
maxlinelen
characters
ignored
endl
cout
container
filled
endl
cout
minstrlen
statscollector
minstrlen
endl
cout
maxstrlen
statscollector
maxstrlen
endl
cout
avgstrlen
statscollector
avgstrlen
endl
cout
min
len
statscollector
filterstats
0
minkey
endl
cout
max
len
statscollector
filterstats
0
maxkey
endl
flushcache
simple
string
container
just
wrapper
around
stl
vector
class
stringcontainervector
public
stringcontainerabs
private
vector
container
public
stringcontainervector
bool
gatherstats
false
stringcontainerabs
gatherstats
stringcontainervector
physord
pho
bool
gatherstats
stringcontainerabs
pho
gatherstats
void
fillcontainer
impl
const
char
filename
const
unsigned
count
const
unsigned
maxlinelen
300
void
integrateupdates
impl
const
unordered
set
deletedstringids
unsigned
stringidmapping
template
void
fillcontainer
impl
inputiterator
first
inputiterator
last
void
retrievestring
impl
string
target
const
unsigned
target
container
unsigned
insertstring
impl
const
string
container
push
back
return
container
size
1
unsigned
size
impl
return
container
size
void
flushcache
impl
recordid
getrecordid
impl
unsigned
cout
warning
container
rids
endl
return
null
physord
getphysord
impl
return
pho
none
template
void
stringcontainervector
fillcontainer
impl
inputiterator
first
inputiterator
last
ifdef
timer
start
cout
filling
container
endl
endif
gatherstats
statscollector
begin
first
last
gatherstats
statscollector
next
first
insertstring
first
first
gatherstats
statscollector
end
disk
based
string
container
consisting
following
1
string
record
manager
2
mapping
stringid
recordid
mapping
stored
memory
class
stringcontainerrm
public
stringcontainerabs
private
vector
ridmap
stringrm
stringrm
unsigned
blocksize
unsigned
avgstrlen
char
ridmapfilename
256
file
name
ridmap
void
writeridmapfile
ofstream
ridmapfile
ridmapfile
open
ridmapfilename
ios
fstream
trunc
unsigned
ridmapsize
ridmap
size
ridmapfile
write
const
char
ridmapsize
sizeof
unsigned
unsigned
0
ridmapsize
recordid
rid
ridmap
ridmapfile
write
const
char
rid
sizeof
recordid
write
stats
ridmapfile
write
const
char
gatherstats
sizeof
bool
ridmapfile
write
const
char
statscollector
avgstrlen
sizeof
float
ridmapfile
write
const
char
statscollector
strcount
sizeof
unsigned
ridmapfile
write
const
char
statscollector
minstrlen
sizeof
unsigned
ridmapfile
write
const
char
statscollector
maxstrlen
sizeof
unsigned
ridmapfile
write
const
char
statscollector
charfreqs
256
sizeof
unsigned
unsigned
size
statscollector
filterstats
size
ridmapfile
write
const
char
size
sizeof
unsigned
unsigned
0
size
filterstats
stats
statscollector
filterstats
stats
filter
savefilterinstance
ridmapfile
ridmapfile
write
const
char
stats
minkey
sizeof
unsigned
ridmapfile
write
const
char
stats
maxkey
sizeof
unsigned
ridmapfile
write
const
char
stats
wtedavgvalcount
sizeof
float
ridmapfile
close
void
readridmapfile
ifstream
ridmapfile
ridmapfile
open
ridmapfilename
ios
ridmap
clear
unsigned
ridmapsize
0
ridmapfile
read
char
ridmapsize
sizeof
unsigned
ridmapsize
0
unsigned
0
ridmapsize
recordid
rid
ridmapfile
read
char
rid
sizeof
recordid
ridmap
push
back
rid
read
stats
ridmapfile
read
char
gatherstats
sizeof
bool
ridmapfile
read
char
statscollector
avgstrlen
sizeof
float
ridmapfile
read
char
statscollector
strcount
sizeof
unsigned
ridmapfile
read
char
statscollector
minstrlen
sizeof
unsigned
ridmapfile
read
char
statscollector
maxstrlen
sizeof
unsigned
ridmapfile
read
char
statscollector
charfreqs
256
sizeof
unsigned
unsigned
size
0
ridmapfile
read
char
size
sizeof
unsigned
statscollector
clearfilterstats
unsigned
0
size
abstractfilter
filter
abstractfilter
loadfilterinstance
ridmapfile
filterstats
stats
new
filterstats
filter
statscollector
filterstats
push
back
stats
ridmapfile
read
char
stats
minkey
sizeof
unsigned
ridmapfile
read
char
stats
maxkey
sizeof
unsigned
ridmapfile
read
char
stats
wtedavgvalcount
sizeof
float
ridmapfile
close
public
stringcontainerrm
bool
gatherstats
false
stringcontainerabs
gatherstats
pho
pho
none
memset
ridmapfilename
0
256
stringcontainerrm
physord
pho
bool
gatherstats
false
stringcontainerabs
pho
gatherstats
pho
pho
memset
ridmapfilename
0
256
void
fillcontainer
impl
const
char
filename
const
unsigned
count
const
unsigned
maxlinelen
300
template
void
fillcontainer
impl
inputiterator
first
inputiterator
last
void
createcontainer
const
char
filename
const
unsigned
blocksize
4096
const
unsigned
avgstrlen
50
blocksize
blocksize
avgstrlen
avgstrlen
stringrm
createstringcollection
filename
blocksize
avgstrlen
sprintf
ridmapfilename
ridmap
filename
ridmap
clear
writeridmapfile
void
opencontainer
const
char
filename
bool
disablestreambuffer
false
stringrm
openstringcollection
filename
disablestreambuffer
sprintf
ridmapfilename
ridmap
filename
readridmapfile
combined
create
open
one
call
void
createandopen
const
char
filename
const
unsigned
blocksize
4096
const
unsigned
avgstrlen
50
bool
disablestreambuffer
false
blocksize
blocksize
avgstrlen
avgstrlen
ridmap
clear
sprintf
ridmapfilename
ridmap
filename
writeridmapfile
stringrm
createstringcollection
filename
blocksize
avgstrlen
stringrm
openstringcollection
filename
disablestreambuffer
void
retrievestring
impl
string
target
const
unsigned
stringrm
retrievestring
target
ridmap
unsigned
insertstring
impl
const
string
recordid
tmp
stringrm
insertstring
tmp
ridmap
push
back
tmp
return
ridmap
size
1
void
integrateupdates
impl
const
unordered
set
deletedstringids
unsigned
stringidmapping
cout
operation
supported
disk
based
stringcontainer
endl
bool
incache
unsigned
sid
return
stringrm
incache
ridmap
sid
unsigned
size
impl
return
ridmap
size
void
flushcache
impl
stringrm
flushcache
recordid
getrecordid
impl
unsigned
return
ridmap
physord
getphysord
impl
return
pho
template
void
stringcontainerrm
fillcontainer
impl
inputiterator
first
inputiterator
last
ifdef
timer
start
cout
filling
container
endl
endif
pho
pho
none
stringcontainerrm
tempcontainer
createdefaultstringcontainer
blocksize
avgstrlen
first
last
tempcontainer
insertstring
first
first
copyreorg
tempcontainer
delete
tempcontainer
int
ret
system
rm
default2
rm
warning
os
specific
ret
0
cout
temp
container
file
default2
rm
deleted
endl
ret
system
rm
ridmap
default2
rm
warning
os
specific
ret
0
cout
temp
ridmapfile
file
ridmap
default2
rm
deleted
endl
else
gatherstats
statscollector
begin
first
last
gatherstats
statscollector
next
first
insertstring
first
first
gatherstats
statscollector
end
writeridmapfile
flushcache
endif
