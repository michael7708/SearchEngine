
ftsearcherabs 
id
ftsearcherabs
5788
2010
10
22
10
09
57z
abehm
copyright
2010
regents
university
california
redistribution
file
permitted
terms
bsd
license
date
04
04
2008
author
alexander
behm
ifndef
ftsearcherabs
define
ftsearcherabs
include
ftindexerabs
include
statsutil
include
filtertreenode
include
common
src
filtertypes
include
common
src
query
template
struct
ftsearchertraits
template
class
ftsearcherabs
public
typedef
ftsearchertraits
traitstype
typedef
typename
traitstype
ftindexer
ftindexer
typedef
typename
traitstype
merger
merger
typedef
ftindexertraits
indexertraitstype
typedef
typename
indexertraitstype
invlist
invlist
protected
ifdef
debug
stat
querystats
querystats
statsutil
sutil
endif
unsigned
mergethreshold
gramgen
gramgen
statsutil
sutillocal
merger
merger
ftindexer
ftindexer
void
getaffectedleavesrec
filtertreenode
node
const
query
query
const
vector
querygramcodes
const
vector
filtertypes
const
unsigned
filterid
vector
leaves
void
processleaves
const
vector
leaves
const
query
query
const
vector
querygramcodes
vector
resultstringids
static
cast
processleaves
impl
leaves
query
querygramcodes
resultstringids
void
searchleafnodespanic
const
vector
leaves
const
query
query
vector
resultstringids
static
cast
searchleafnodespanic
impl
leaves
query
resultstringids
remove
deleted
string
ids
remove
false
positives
computing
real
similarity
void
postprocess
const
query
query
const
vector
candidates
vector
resultstringids
public
ftsearcherabs
merger
merger
ftindexer
ftindexer
null
void
prepare
static
cast
prepare
impl
void
search
const
query
query
vector
resultstringids
void
rangesearch
const
query
query
vector
querygramcodes
vector
resultstringids
void
topksearch
const
query
query
vector
querygramcodes
vector
resultstringids
void
setftindexer
ftindexer
ftindexer
ftindexer
ftindexer
ftindexer
gramgen
ftindexer
getgramgen
string
getname
return
ftsearcherabs
ifdef
debug
stat
querystats
getquerystats
return
querystats
endif
virtual
ftsearcherabs
ifdef
debug
stat
querystats
delete
querystats
endif
template
ftsearcherabs
ftsearcherabs
merger
merger
ftindexer
ftindexer
merger
merger
ftindexer
ftindexer
ftindexer
gramgen
ftindexer
getgramgen
else
gramgen
null
template
void
ftsearcherabs
getaffectedleavesrec
filtertreenode
node
const
query
query
const
vector
querygramcodes
const
vector
filtertypes
const
unsigned
filterid
vector
leaves
node
isleaf
leaves
push
back
node
else
abstractfilter
filter
filtertypes
filterid
get
query
bounds
filter
unsigned
lbound
ubound
query
sim
getfilterbounds
query
str
query
threshold
filter
lbound
ubound
unsigned
nodelbound
filter
getfilterlbound
binary
search
first
affected
child
vector
children
node
children
typename
vector
iterator
iter
keynodepair
lboundknp
lbound
null
iter
lower
bound
children
begin
children
end
lboundknp
continue
recursing
children
long
keys
overlap
lbound
ubound
iter
children
end
nodelbound
ubound
getaffectedleavesrec
iter
node
query
querygramcodes
filtertypes
filterid
1
leaves
nodelbound
iter
key
iter
class
simidpair
public
float
sim
unsigned
id
simidpair
float
sim
unsigned
id
sim
sim
id
id
bool
operator
const
simidpair
const
return
sim
sim
bool
operator
sim
template
void
ftsearcherabs
topksearch
const
query
query
vector
querygramcodes
vector
resultstringids
answer
topk
queries
multiple
range
searches
query
rangequery
query
str
query
sim
0
0f
0
queryrange
rangequery
threshold
rangequery
sim
topkinitialrange
unordered
set
resultids
try
multiple
range
searches
exit
detect
panic
switch
scan
mode
true
unsigned
query
sim
getmergethreshold
rangequery
str
querygramcodes
rangequery
threshold
ftindexer
getcompressionargs
panic
immediately
switch
scan
mode
signed
tmpresults
rangesearch
rangequery
querygramcodes
tmpresults
unsigned
0
tmpresults
size
unordered
set
iterator
iter
resultids
find
tmpresults
iter
resultids
end
resultstringids
push
back
tmpresults
resultstringids
size
query
return
resultids
insert
tmpresults
rangequery
threshold
rangequery
sim
topknextrange
rangequery
threshold
rangequery
str
still
found
results
switch
scan
mode
resultstringids
size
query
todo
need
switch
min
max
heap
different
sim
functions
currently
max
heap
edit
distance
vector
topelements
topelements
reserve
query
10
ftindexer
strcontainer
getphysord
pho
length
ftindexer
strcontainer
getphysord
pho
length
charsum
determine
whether
forward
scan
backward
scan
strings
bool
forwardscan
true
ftindexer
strcontainer
getstatscollector
query
str
length
ftindexer
strcontainer
getstatscollector
getavgstrlen
forwardscan
false
forwardscan
unsigned
0
ftindexer
strcontainer
size
string
candi
ftindexer
strcontainer
retrievestring
candi
length
filter
assuming
edit
distance
todo
make
generic
unsigned
lengthdiff
candi
length
query
str
length
candi
length
query
str
length
query
str
length
candi
length
float
simbound
50000000
todo
change
dirty
constant
topelements
empty
simbound
topelements
front
sim
lengthdiff
simbound
candi
length
query
str
length
break
else
continue
first
try
beat
simbound
letter
counting
filter
rangequery
sim
lcfilter
rangequery
str
candi
simbound
continue
compute
real
similarity
try
push
heap
float
truesim
rangequery
sim
simbatch
rangequery
str
candi
truesim
simbound
simidpair
sip
truesim
topelements
size
query
pop
heap
topelements
begin
topelements
end
topelements
pop
back
topelements
push
back
sip
push
heap
topelements
begin
topelements
end
else
unsigned
ftindexer
strcontainer
size
1
0
string
candi
ftindexer
strcontainer
retrievestring
candi
length
filter
assuming
edit
distance
todo
make
generic
unsigned
lengthdiff
candi
length
query
str
length
candi
length
query
str
length
query
str
length
candi
length
float
simbound
50000000
todo
change
dirty
constant
topelements
empty
simbound
topelements
front
sim
lengthdiff
simbound
candi
length
query
pop
heap
topelements
begin
topelements
end
topelements
pop
back
topelements
push
back
sip
push
heap
topelements
begin
topelements
end
else
unsigned
0
ftindexer
strcontainer
size
string
candi
ftindexer
strcontainer
retrievestring
candi
length
filter
assuming
edit
distance
todo
make
generic
unsigned
lengthdiff
candi
length
query
str
length
candi
length
query
str
length
query
str
length
candi
length
float
simbound
50000000
todo
change
dirty
constant
topelements
empty
simbound
topelements
front
sim
lengthdiff
simbound
continue
first
try
beat
simbound
letter
counting
filter
rangequery
sim
lcfilter
rangequery
str
candi
simbound
continue
compute
real
similarity
try
push
heap
float
truesim
rangequery
sim
simbatch
rangequery
str
candi
truesim
simbound
simidpair
sip
truesim
topelements
size
query
pop
heap
topelements
begin
topelements
end
topelements
pop
back
topelements
push
back
sip
push
heap
topelements
begin
topelements
end
fill
result
string
ids
resultstringids
clear
topelements
empty
resultstringids
push
back
topelements
front
id
pop
heap
topelements
begin
topelements
end
topelements
pop
back
template
void
ftsearcherabs
rangesearch
const
query
query
vector
querygramcodes
vector
resultstringids
vector
filtertypes
ftindexer
filtertypes
ifdef
debug
stat
querystats
reset
sutil
starttimemeasurement
endif
mergethreshold
query
sim
getmergethreshold
query
str
querygramcodes
query
threshold
ftindexer
getcompressionargs
ifdef
debug
stat
sutil
stoptimemeasurement
querystats
threshtime
sutil
gettimemeasurement
endif
get
affected
leaves
process
vector
leaves
getaffectedleavesrec
ftindexer
filtertreeroot
query
querygramcodes
filtertypes
0
leaves
processleaves
leaves
query
querygramcodes
resultstringids
ifdef
debug
stat
querystats
totaltime
querystats
threshtime
querystats
preproctime
querystats
mergetime
querystats
postproctime
querystats
panictime
querystats
results
resultstringids
size
endif
template
void
ftsearcherabs
search
const
query
query
vector
resultstringids
create
gram
codes
query
vector
querygramcodes
gramgen
decompose
query
str
querygramcodes
prepare
simmetric
switch
query
sim
smt
case
smt
jaccard
case
smt
cosine
case
smt
dice
case
smt
jaccard
bag
case
smt
cosine
bag
case
smt
dice
bag
case
smt
gramcount
statscollector
statscoll
ftindexer
strcontainer
getstatscollector
statscoll
query
sim
prepare
statscoll
minstrlen
querygramcodes
else
cout
error
gram
based
simmetric
selected
stats
stringcontainer
minstrlen
needed
endl
return
break
case
smt
edit
distance
case
smt
edit
distance
norm
case
smt
edit
distance
swap
query
sim
prepare
0
querygramcodes
break
default
query
sim
prepare
0
querygramcodes
break
distinguish
different
query
types
switch
query
type
case
queryrange
rangesearch
query
querygramcodes
resultstringids
break
case
querytopk
topksearch
query
querygramcodes
resultstringids
break
default
cout
error
specified
querytype
implemented
endl
break
template
void
ftsearcherabs
postprocess
const
query
query
const
vector
candidates
vector
resultstringids
ifdef
debug
stat
sutil
starttimemeasurement
endif
const
unordered
set
deletedstringids
ftindexer
getdeletedstringids
deletedstringids
size
0
unsigned
0
candidates
size
unsigned
stringid
candidates
deletedstringids
find
stringid
deletedstringids
end
continue
string
dictstring
ftindexer
strcontainer
retrievestring
dictstring
stringid
query
sim
simbatch
dictstring
query
str
query
threshold
resultstringids
push
back
stringid
else
unsigned
0
candidates
size
unsigned
stringid
candidates
string
dictstring
ftindexer
strcontainer
retrievestring
dictstring
stringid
query
sim
simbatch
dictstring
query
str
query
threshold
resultstringids
push
back
stringid
ifdef
debug
stat
sutil
stoptimemeasurement
querystats
postproctime
sutil
gettimemeasurement
endif
endif
