
topkindex 
id
topkindex
5026
2010
02
17
20
25
03z
rares
copyright
2007
regents
university
california
redistribution
file
permitted
terms
bsd
license
date
04
28
2008
author
rares
vernica
ifndef
topkindex
define
topkindex
include
include
include
common
query
include
common
tr1
local
include
util
querygroup
include
util
querygrams
include
util
range
ifdef
win32
necessary
search
dll
visual
include
search
search
dll
else
define
search
api
endif
define
debug
define
debug
stat
define
debug
l2
include
util
debug
ifdef
debug
include
extern
uint
simcomp
extern
float
simtime
extern
std
map
thrfreq
extern
std
map
thrfreqsim
extern
std
map
thrsfreq
extern
std
map
thrsfreqsim
endif
namespace
topk
score
1
inline
float
score
float
sim
float
wht
return
sim
wht
inline
float
scoreinversesim
float
score
float
wht
return
score
wht
inline
float
scoreinversewht
float
score
float
sim
return
score
sim
score
2
inline
float
score
float
sim
float
wht
return
sim
wht
inline
float
scoreinversesim
float
score
float
wht
return
wht
score
wht
std
numeric
limits
max
inline
float
scoreinversewht
float
score
float
sim
return
sim
score
sim
std
numeric
limits
max
score
3
weight
inline
float
score
float
sim
float
wht
return
sim
inline
float
scoreinversesim
float
score
float
wht
return
score
inline
float
scoreinversewht
float
score
float
sim
return
score
sim
assumes
data
elements
ordered
decreasing
weight
struct
index
uint
lenmax
nogramsmin
std
tr1
unordered
map
lists
index
index
const
std
string
filename
load
filename
index
void
clear
template
void
build
inputiterator
begin
inputiterator
end
const
gramgen
gramgen
template
void
buildfromgrams
inputiterator
begin
inputiterator
end
const
gramgen
gramgen
void
load
const
std
string
filename
void
save
const
std
string
filename
const
void
load
std
ifstream
file
void
save
std
ofstream
file
const
struct
indexquery
uint
size
std
list
lists
lists
least
one
element
search
api
necessary
search
dll
visual
search
api
indexquery
const
index
idx
const
query
query
indexquery
const
index
idx
const
querygroup
querygroup
indexquery
const
index
idx
const
querygrams
querygrams
struct
cand
uint
id
float
score
cand
uint
id
std
numeric
limits
max
float
score
std
numeric
limits
min
id
id
score
score
bool
operator
score
template
void
index
build
inputiterator
data
inputiterator
data
end
const
gramgen
gramgen
clear
lenmax
0
nogramsmin
0
std
tr1
unordered
map
idx
uint
id
0
data
data
end
data
id
uint
len
data
length
len
lenmax
lenmax
len
std
set
grams
unique
grams
gramgen
decompose
data
grams
uint
nograms
grams
size
nograms
nogramsmin
nogramsmin
nograms
std
set
const
iterator
gram
grams
begin
gram
grams
end
gram
std
vector
lst
std
tr1
unordered
map
const
iterator
pos
idx
find
gram
pos
idx
end
lst
new
std
vector
needs
freed
deleted
later
idx
insert
make
pair
gram
lst
else
lst
pos
second
lst
push
back
id
std
tr1
unordered
map
const
iterator
pos
idx
begin
pos
idx
end
pos
uint
sz
pos
second
size
uint
lst
new
uint
sz
copy
pos
second
begin
pos
second
end
lst
lists
insert
std
make
pair
pos
first
make
range
lst
lst
sz
delete
pos
second
template
void
index
buildfromgrams
inputiterator
data
inputiterator
data
end
const
gramgen
gramgen
std
tr1
unordered
map
idx
uint
id
0
data
data
end
data
id
uint
nograms
data
size
nograms
nogramsmin
nogramsmin
nograms
std
vector
const
iterator
gram
data
begin
gram
data
end
gram
std
vector
lst
std
tr1
unordered
map
const
iterator
pos
idx
find
gram
pos
idx
end
lst
new
std
vector
needs
freed
deleted
later
idx
insert
make
pair
gram
lst
else
lst
pos
second
lst
push
back
id
std
tr1
unordered
map
const
iterator
pos
idx
begin
pos
idx
end
pos
uint
sz
pos
second
size
uint
lst
new
uint
sz
copy
pos
second
begin
pos
second
end
lst
lists
insert
std
make
pair
pos
first
make
range
lst
lst
sz
delete
pos
second
struct
answer
uint
id
float
score
answer
uint
id
float
score
id
id
score
score
bool
operator
