
topksearch 
id
topksearch
5772
2010
10
19
07
15
28z
abehm
copyright
2007
regents
university
california
redistribution
file
permitted
terms
bsd
license
date
11
21
2009
author
rares
vernica
ifndef
topksearch
define
topksearch
include
topkheap
namespace
topk
class
kwdinfo
public
std
string
kwd
int
count
float
weight
kwdinfo
std
string
kwd
int
count
kwd
kwd
count
count
bool
operator
const
kwdinfo
return
count
count
weight
weight
kwd
kwd
bool
operator
const
kwdinfo
return
static
std
string
getkwdptr
kwdinfo
return
kwd
static
int
getcountptr
kwdinfo
return
count
static
float
getweightptr
kwdinfo
return
weight
static
bool
higherweight
const
kwdinfo
const
kwdinfo
return
weight
weight
friend
std
ostream
operator
class
kwdinfoiterator
public
std
iterator
protected
std
vector
const
iterator
kwd
kwdinfo
public
kwdinfoiterator
std
vector
const
iterator
kwd
kwdinfo
kwd
kwd
bool
operator
const
kwdinfoiterator
return
kwd
kwd
bool
operator
const
kwdinfoiterator
return
kwd
kwd
bool
operator
return
kwd
operator
ptrdiff
const
return
kwd
class
search
private
static
const
uint
static
const
float
thr
std
vector
kwds
std
tr1
unordered
map
kwdtokwdinfo
gramgenfixedlen
gramgen
simmetricednorm
simmetric
index
topkindex
std
ostream
uint
ids
public
search
std
ostream
std
cerr
gramgen
gramgenfixedlen
2
simmetric
simmetricednorm
gramgen
ids
new
uint
search
delete
ids
free
int
searchkwd
const
std
vector
originalkwds
std
vector
relaxedkwds
originalkwd
relaxedkwd
a1
a2
b1
template
int
searchkwd
inputiterator
originalkwdbegin
inputiterator
originalkwdend
outputiterator
relaxedkwdbegin
int
updatekwd
const
std
vector
kwds
const
std
vector
counts
kwd
counts
2
4
1
template
int
updatekwd
inputiteratorstring
kwdsbegin
inputiteratorstring
kwdsend
inputiteratorint
countsbegin
void
save
const
std
string
filename
const
void
save
std
ofstream
file
const
void
load
const
std
string
filename
void
load
std
ifstream
file
kwdinfoiterator
kwdsbegin
return
kwdinfoiterator
kwds
begin
kwdinfo
getkwdptr
kwdinfoiterator
kwdsend
return
kwdinfoiterator
kwds
end
kwdinfo
getkwdptr
kwdinfoiterator
countsbegin
return
kwdinfoiterator
kwds
begin
kwdinfo
getcountptr
kwdinfoiterator
countsend
return
kwdinfoiterator
kwds
end
kwdinfo
getcountptr
kwdinfoiterator
weightsbegin
return
kwdinfoiterator
kwds
begin
kwdinfo
getweightptr
kwdinfoiterator
weightsend
return
kwdinfoiterator
kwds
end
kwdinfo
getweightptr
static
float
weight
int
count
int
countmin
return
count
countmin
count
10
static
bool
lessignorelessone
int
int
1
1
1
1
return
1
1
return
false
1
1
return
true
private
void
updateweights
void
free
friend
std
ostream
operator
kwds
const
std
vector
counts
return
updatekwd
kwds
begin
kwds
end
counts
begin
template
int
search
updatekwd
inputiteratorstring
kwdsbegin
inputiteratorstring
kwdsend
inputiteratorint
countsbegin
updatekwd
std
endl
kwdsbegin
kwdsend
kwdsbegin
countsbegin
kwdsbegin
empty
continue
std
string
kwd
kwdsbegin
std
transform
kwdsbegin
begin
kwdsbegin
end
kwd
begin
tolower
kwd
countsbegin
std
endl
std
tr1
unordered
map
iterator
kwdtokwdinfopair
kwdtokwdinfo
find
kwd
kwdtokwdinfopair
kwdtokwdinfo
end
kwdinfo
kwdinfo
new
kwdinfo
kwd
countsbegin
kwds
push
back
kwdinfo
kwdtokwdinfo
insert
make
pair
kwd
kwdinfo
else
kwdinfo
kwdinfo
kwdtokwdinfopair
second
kwdinfo
count
countsbegin
todo
prune
elements
count
0
count
counts
begin
counts
end
bind2nd
less
equal
0
updateweights
std
sort
kwds
begin
kwds
end
kwdinfo
higherweight
topkindex
build
kwdsbegin
kwdsend
gramgen
std
endl
return
0
inline
int
search
searchkwd
const
std
vector
originalkwds
std
vector
relaxedkwds
return
searchkwd
originalkwds
begin
originalkwds
end
std
back
inserter
relaxedkwds
template
int
search
searchkwd
inputiterator
originalkwdbegin
inputiterator
originalkwdend
outputiterator
relaxedkwdbegin
searchkwd
std
endl
std
string
thank
std
vector
const
iterator
kwd
kwds
begin
kwd
kwds
end
kwd
kwd
kwd
find
std
string
npos
std
cout
kwd
simmetric
kwd
kwd
std
endl
bool
first
true
originalkwdbegin
originalkwdend
originalkwdbegin
originalkwdbegin
std
endl
first
first
false
else
relaxedkwdbegin
originalkwdbegin
empty
continue
query
query
originalkwdbegin
simmetric
thr
queryranking
indexquery
topkindexquery
topkindex
query
heap
gettopk
kwdsbegin
weightsbegin
topkindex
query
topkindexquery
ids
uint
id
ids
id
ids
id
std
numeric
limits
max
id
kwds
id
kwd
relaxedkwdbegin
kwds
id
kwd
std
endl
std
endl
return
0
endif
